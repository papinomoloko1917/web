.menu-link {
    position: relative;
}

.menu-link::after {
    content: '';
    position: absolute;
    left: var(--underline-left, 0);
    bottom: -5px;
    height: 1.2px;
    background: currentColor;
    width: var(--underline-width, 100%);
    transform: scaleX(0);
    /* Базовый origin слева, чтобы при hover линия раскрывалась слева направо */
    transform-origin: left center;
    opacity: .85;
    transition: transform .32s cubic-bezier(.22, 1, .36, 1);
    will-change: transform;
}

.menu-link:hover::after {
    /* Hover — раскрытие слева направо */
    transform: scaleX(1);
    transform-origin: left center;
}

.menu-link.leaving::after {
    /* Leave — сжатие вправо */
    transform: scaleX(0);
    transform-origin: right center;
}

.services-grid .menu-link::after {
    bottom: 5px;
    /* уменьшили отступ (попробуйте -2px, если нужно ещё ближе) */
    height: 1px;
    /* тоньше линия */
    /* тот же тайминг, что и у базового */
    transition: transform .32s cubic-bezier(.22, 1, .36, 1);
    opacity: .9;
}

/* Плавное приглушение соседей — только когда наведен конкретный пункт */
.hover-scope:has(.menu-link:hover) .menu-link {
    opacity: .5;
    transition: opacity .18s ease;
}

.hover-scope:has(.menu-link:hover) .menu-link:hover {
    opacity: 1;
}

/* Вариант укороченного подчёркивания (для "Услуги") */
.menu-link--short-underline {
    --underline-width: 70%;
    --underline-left: 0%;
}

/* JS‑fallback на случай отсутствия :has в браузере */
.hover-scope.is-hovering .menu-link {
    opacity: .5;
    transition: opacity .18s ease;
}

.hover-scope.is-hovering .menu-link:not(.no-dim) {
    opacity: .5;
    transition: opacity .18s ease;
}

.hover-scope.is-hovering .menu-link.is-current {
    opacity: 1;
}

.hover-scope.is-hovering .menu-link.no-dim {
    opacity: 1;
}

/* Когда навбар раскрыт, подчёркиваем триггер «Услуги» всегда */
.nav--expanded .menu-link--short-underline::after {
    transform: scaleX(1);
    transform-origin: left center;
}

/* Предотвращаем применение стилей expanded на мобильных устройствах */
@media (max-width: 1023px) {
    .nav--expanded .menu-link::after {
        background: #4b5563;
        /* серый цвет для мобильных */
    }

    /* Убираем белое подчёркивание для триггера услуг на мобильных */
    .nav--expanded .menu-link--short-underline::after {
        transform: scaleX(0);
    }
}